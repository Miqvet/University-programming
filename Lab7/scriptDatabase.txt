CREATE TABLE IF NOT EXISTS my_user(
login TEXT NOT NULL PRIMARY KEY,
password TEXT NOT NULL
);

CREATE TABLE IF NOT EXISTS Coordinates
(
coordinate_ID SERIAL PRIMARY KEY,
X INT NOT NULL,
Y INT NOT NULL
);


CREATE TABLE IF NOT EXISTS Chapter
(
chapter_ID SERIAL PRIMARY KEY,
name TEXT NOT NULL,
world TEXT NOT NULL
);

CREATE TABLE IF NOT EXISTS marine_category
(
typeAC TEXT PRIMARY KEY
);

CREATE TABLE IF NOT EXISTS Weapon
(
typeW TEXT PRIMARY KEY
);

CREATE TABLE IF NOT EXISTS Melee_Weapon
(
typeMW TEXT PRIMARY KEY
);

CREATE TABLE IF NOT EXISTS SpaceMarine
(
user_ID TEXT REFERENCES my_user,
ship_ID SERIAL PRIMARY KEY,
name TEXT NOT NULL,
health BIGINT NOT NULL CHECK(health > 0),
coordinates INT NOT NULL REFERENCES coordinates,
astral_category TEXT NOT NULL REFERENCES marine_category,
weapon_type TEXT NOT NULL REFERENCES weapon,
melee_weapon TEXT NOT NULL REFERENCES melee_weapon,
chapter int NOT NULL REFERENCES chapter,
creation_date DATE NOT NULL
);

INSERT INTO Melee_Weapon VALUES('CHAIN_AXE');
INSERT INTO Melee_Weapon VALUES('MANREAPER');
INSERT INTO Melee_Weapon VALUES('POWER_FIST');

INSERT INTO marine_category VALUES('AGGRESSOR');
INSERT INTO marine_category VALUES('INCEPTOR');
INSERT INTO marine_category VALUES('SUPPRESSOR');
INSERT INTO marine_category VALUES('HELIX');

INSERT INTO weapon VALUES('COMBI_PLASMA_GUN');
INSERT INTO weapon VALUES('HEAVY_BOLTGUN');
INSERT INTO weapon VALUES('PLASMA_GUN');
INSERT INTO weapon VALUES('MISSILE_LAUNCHER');